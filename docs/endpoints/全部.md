# エンドポイント

優先度順に記述．json 版は各ファイルに分割した．
エンドポイントではなく，扱うデータ事に章分けしてしまった．

失敗時のステータスコードについて，共通のものを先に次に示しておく．

- 400 Bad Request：データ形式が間違っている場合（JSON のパースエラーなど）
- 401 Unauthorized：何らかの認証が必要な場合。言い換えると Authorization ヘッダが必要な場合。
- 405 Method Not Allowed：そのリソースに指定されたメソッドが用意されていない場合
- 500 Internal Server Error：その他のサーバに起因するエラーにより処理続行できない場合。
- 503 Service Unavailable：一時的にサービス提供ができない場合。（メンテナンス等）

## ニュース

- ニュース詳細取得 (MVP)
  - エンドポイント: `/api/v1/news/{news_id}`
  - メソッド: GET
  - 成功時のステータスコード
    - 200 OK: 取得成功
  - 失敗時のステータスコード
    - 404 Not Found: ニュースがない
- ニュース作成 (MVP)
  - エンドポイント: `/api/v1/news`
  - メソッド: POST
  - 成功時のステータスコード
    - 201 Created: 作成成功
      - 補足情報: Location ヘッダをつけて，作成したリソースの URI を示す
  - 失敗時のステータスコード
    - 409 Conflict: リソースが既にある
- 特定カテゴリのニュース取得
  - エンドポイント: `/api/v1/news/categories/{category}`
  - メソッド: GET
  - 成功時のステータスコード
    - 200 OK: 取得成功
  - 失敗時のステータスコード
    - 404 Not Found: ニュースがない．カテゴリがない
- すべてのニュース取得
  - エンドポイント: `/api/v1/news`
  - メソッド: GET
  - 成功時のステータスコード
    - 200 OK: 取得成功
  - 失敗時のステータスコード
    - 404 Not Found: ニュースがない
- ニュースの削除
  - エンドポイント: `/api/v1/news/{news_id}`
  - メソッド: DELETE
  - 成功時のステータスコード
    - 204 No Content: 削除成功
  - 失敗時のステータスコード
    - 404 Not Found: ニュースがない（削除済み）
    - 409 Conflict: リソースがロック中
- ニュースの更新
  - エンドポイント: `/api/v1/news/{news_id}`
  - メソッド: PUT
  - 成功時のステータスコード
    - 204 No Content: 更新成功
    - 201 Created: （新規で）作成成功
  - 失敗時のステータスコード
    - 404 Not Found: ニュースがない
    - 409 Conflict: リソースが既にある，リソースがロック中

## コメント

- ニュースへのコメント一覧取得 (MVP)
  - エンドポイント: `/api/v1/news/{news_id}/comments`
  - メソッド: GET
  - 成功時のステータスコード
    - 200 OK: 取得成功
  - 失敗時のステータスコード
    - 404 Not Found: コメントがない
- 特定コメント取得 (MVP)
  - エンドポイント: `/api/v1/comments/{comment_id}`
  - メソッド: GET
  - 成功時のステータスコード
    - 200 OK: 取得成功
  - 失敗時のステータスコード
    - 404 Not Found: コメントがない
- 特定ユーザーのコメント一覧取得 (MVP)
  - エンドポイント: `/api/v1/users/{users_id}/comments`
  - メソッド: GET
  - 成功時のステータスコード
    - 200 OK: 取得成功
  - 失敗時のステータスコード
    - 404 Not Found: コメントがない，ユーザーがいない
- ニュースへのコメント作成 (MVP)
  - エンドポイント: `/api/v1/news/{news_id}/comments`
  - メソッド: POST
  - 成功時のステータスコード
    - 201 Created: 作成成功
      - 補足情報: Location ヘッダをつけて，作成したリソースの URI を示す
  - 失敗時のステータスコード
    - 404 Not Found: コメントがない，ニュースがない
    - 409 Conflict: リソースが既にある
- コメントへの返信作成 (MVP)
  - エンドポイント: `/api/v1/comments/{comment_id}/replies`
  - メソッド: POST
  - 成功時のステータスコード
    - 201 Created: 作成成功
      - 補足情報: Location ヘッダをつけて，作成したリソースの URI を示す
  - 失敗時のステータスコード
    - 404 Not Found: コメントがない
    - 409 Conflict: リソースが既にある
- 削除
  - エンドポイント: `/api/v1/comments/{comment_id}`
  - メソッド: DELETE
  - 成功時のステータスコード
    - 204 No Content: 削除成功
  - 失敗時のステータスコード
    - 404 Not Found: コメントがない（削除済み）
    - 409 Conflict: リソースがロック中
- 更新
  - エンドポイント: `/api/v1/comments/{comment_id}`
  - メソッド: PUT
  - 成功時のステータスコード
    - 204 No Content: 更新成功
    - 201 Created: （新規で）作成成功
  - 失敗時のステータスコード
    - 404 Not Found: コメントがない
    - 409 Conflict: リソースが既にある，リソースがロック中

## ユーザー

- 取得 (MVP)
  - エンドポイント: `/api/v1/users/{user_id}`
  - メソッド: GET
  - 成功時のステータスコード
    - 200 OK: 取得成功
  - 失敗時のステータスコード
    - 404 Not Found: ユーザーがいない
- 作成 (MVP)
  - エンドポイント: `/api/v1/users`
  - メソッド: POST
  - 成功時のステータスコード
    - 201 Created: 作成成功
      - 補足情報: Location ヘッダをつけて，作成したリソースの URI を示す
  - 失敗時のステータスコード
    - 404 Not Found: ユーザーがいない
    - 409 Conflict: リソースが既にある
- 削除
  - エンドポイント: `/api/v1/users/{user_id}`
  - メソッド: DELETE
  - 成功時のステータスコード
    - 204 No Content: 削除成功
  - 失敗時のステータスコード
    - 404 Not Found: ユーザーがいない（削除済み）
    - 409 Conflict: リソースがロック中
- 更新
  - エンドポイント: `/api/v1/users/{user_id}`
  - メソッド: PUT
  - 成功時のステータスコード
    - 204 No Content: 更新成功
    - 201 Created: （新規で）作成成功
  - 失敗時のステータスコード
    - 404 Not Found: ユーザーがいない
    - 409 Conflict: リソースが既にある，リソースがロック中
